<!doctype html><html class="h-full w-full font-sans" lang=en-us><head><meta charset=utf-8><link rel="shortcut icon" href=https://Jimall.github.io/favicon.ico type=image/x-icon><meta name=viewport content="width=device-width,initial-scale=1"><title>TypeScript 简明教程 - BLOG</title><link rel=stylesheet href=/css/styles.min.6c8705011aa916dccc613f24e45a76180281f6c816eea3c2e2dfc7d2ddbc6c7dd69fa5a184495bdb33d93d3acbba21e0a216cf851381a83de64371ea3d62e6d2.css integrity=sha512-bIcFARqpFtzMYT8k5Fp2GAKB9sgW7qPC4t/H0t28bH3Wn6WhhElb2zPZPTrLuiHgohbPhROBqD3mQ3HqPWLm0g==><link rel=stylesheet href=/css/prism.min.26feae241bc00cc1907bbba0b6117c77f6f7a0e29ed480a677b6da505c13ded424cd468846cc56b3b8e6a6e0dd7e59ec9de280f8a66ac3b14d36459f33db03d2.css integrity="sha512-Jv6uJBvADMGQe7ugthF8d/b3oOKe1ICmd7baUFwT3tQkzUaIRsxWs7jmpuDdflnsneKA+KZqw7FNNkWfM9sD0g=="><script>localStorage.theme==='dark'||!('theme'in localStorage)&&window.matchMedia('(prefers-color-scheme: dark)').matches?document.documentElement.classList.add('dark'):document.documentElement.classList.remove('dark')</script></head><body class="flex flex-col items-center w-full"><main class="w-full sm:w-10/12 md:w-9/12 lg:w-7/12 xl:w-5/12 m-auto px-6"><header class="mt-9 mb-8"><div class="flex justify-between items-center"><div class="flex items-center"><input id=navbar_btn class=hidden type=checkbox>
<label for=navbar_btn class="menu-btn mr-4 items-center flex xl:hidden"><span class=navicon></span></label><a href=/technology/ class="font-bold text-lg xl:text-2xl mr-auto">BLOG</a></div><div class="flex items-center"><div class="cursor-pointer ml-2"><svg id="dark_mode_btn" class="hidden" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 15.31 23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31.0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></svg></svg><svg id="light_mode_btn" class="hidden" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><g><path d="M0 0h24v24H0V0z" fill="none"/></g><g><g><g><path d="M14 2c1.82.0 3.53.5 5 1.35C16.01 5.08 14 8.3 14 12s2.01 6.92 5 8.65C17.53 21.5 15.82 22 14 22 8.48 22 4 17.52 4 12S8.48 2 14 2z"/></g></g></g></svg></svg></div><div id=translation_wrapper class="relative flex items-center cursor-pointer text-xs ml-2 py-2"><svg id="translation_btn" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93.0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55.0 1-.45 1-1V7h2c1.1.0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41.0 2.08-.8 3.97-2.1 5.39z"/></svg></svg>
<span class="hidden ml-1 sm:block">Technology</span><ul id=translation_menu class="absolute top-full left-0 rounded hidden w-max shadow-xl z-10"><li class="px-2 py-1.5"><a href=https://Jimall.github.io/>Thoughts</a></li><li class="px-2 py-1.5"><a href=https://Jimall.github.io/technology/>Technology</a></li></ul></div><div class="ml-2 sep hidden sm:block"></div><div class="ml-2 relative flex items-center"><svg id="search_btn" class="cursor-pointer" width="18" height="18" viewBox="2 0 20 20"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61.0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg></svg><div id=search_menu_wrapper class="hidden justify-center fixed top-0 left-0 w-full h-full z-40"><div id=search_menu class="fixed flex flex-col w-full h-full sm:h-auto sm:top-24 sm:bottom-24 rounded-none sm:rounded-md sm:w-120 z-50"><div class="flex min-h-10 shadow-md"><div class="flex flex-grow"><input id=search_menu_input class="flex-grow focus:outline-none px-4 rounded-tl-md" type=text placeholder></div><div id=search_menu_close_btn class="flex items-center justify-center w-10 rounded-tr-md cursor-pointer"><svg width="14" height="14" viewBox="3 3 18 18"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></svg></div></div><div id=search_menu_results class="flex-grow overflow-y-auto"></div></div></div></div></div></div><nav id=navbar class="mt-3 hidden xl:block"><ul class=flex><li class="navbar-item text-sm border-b-2 pb-1 mr-2 font-medium inactive"><a href=/posts/leetcode/problem/>Leetcode</a></li><li class="navbar-item text-sm border-b-2 pb-1 mr-2 font-medium inactive"><a href=/posts/java/java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/>Java</a></li><li class="navbar-item-dropdown text-sm border-b-2 pb-1 mr-2 font-medium insection"><div class="flex items-center"><a href>Java</a><svg width="18" height="18" viewBox="3 3 18 18"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 10l5 5 5-5z"/></svg></svg></div><ul class="navbar-dropdown mt-1.5 -ml-2.5"><li><a class=block href=/posts/java/java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/>Map接口</a></li></ul></li></ul></nav><nav id=navbar_sm class="mt-2 hidden"><ul><li class="text-sm mt-2"><a href=/posts/leetcode/problem/>Leetcode</a></li><li class="text-sm mt-2"><a href=/posts/java/java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/>Java</a></li><li class="text-sm mt-2"><a href>Java</a><ul><li class="text-sm mt-2"><a href=/posts/java/java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/>Map接口</a></li></ul></li></ul><hr class=my-4></nav></header><div id=content class=my-8><div class="collapsible-menu-wrapper my-8 p-4 border-2 rounded"><div class="flex justify-between"><span class=font-bold></span></div><div class="collapsible-menu text-sm ml-2"><div class=leading-6><nav id=TableOfContents><ul><li><a href=#typescript-类型>TypeScript 类型</a></li><li><a href=#typescript-接口>TypeScript 接口</a></li><li><a href=#函数>函数</a></li><li><a href=#typescript-类>TypeScript 类</a></li><li><a href=#typescript-类型推论>TypeScript 类型推论</a></li><li><a href=#typescript-类型断言>TypeScript 类型断言</a></li><li><a href=#typescript-非空断言关键字>TypeScript 非空断言关键字</a></li><li><a href=#typescript-泛型>TypeScript 泛型</a></li><li><a href=#联合类型>联合类型</a></li><li><a href=#参考>参考</a></li></ul></nav></div></div></div><div class=my-7><article class=line-numbers><p>TypeScript 是 JavaScript 的超集，能够用类似写 Java 的体验（更准确说来更像 Kotlin）来写 JavaScript，很方便很快捷。</p><h2 id=typescript-类型>TypeScript 类型</h2><p>TypeScript 的数据类型分为 boolean, number, string, array, tuple, enum, object, null, undefined, any, void, never</p><ol><li><p>布尔（boolean）类型</p><pre><code class=language-TypeScript>let flag: boolean = false
</code></pre><p>有 true 和 false 两个值</p></li><li><p>数字（number）类型</p><pre><code class=language-TypeScript>let num1: number = 1
let num2: number = 1.8
let num3: number = -1
</code></pre><p>各种数字都是 number 类型，并且支持二进制八进制和十六进制值</p></li><li><p>字符串（string）类型</p><pre><code class=language-TypeScript>let name: string = &quot;typescript&quot;
</code></pre><p>支持模板字符串，用反引号</p><pre><code class=language-TypeScript>let description: string = `${name} is good`
</code></pre></li><li><p>数组（array）类型</p><p>和 JavaScript 数组一样，类似于 Python 里的链表</p><pre><code class=language-TypeScript>let list: number[] = [1, 2, 3]
let list: Array&lt;number&gt; = [1, 2, 3]
</code></pre></li><li><p>元组（tuple）类型</p><p>元组中可以存不同类型的值</p><pre><code class=language-TypeScript>let x: [string, number] = [&quot;hello&quot;, 10]
</code></pre></li><li><p>枚举（enum）类型</p><pre><code class=language-TypeScript>enum Color {
    Red,
    Green,
    Blue
}
const c: Color = Color.Green
</code></pre></li><li><p>对象（object）类型</p><p>表示非原始类型，即除了 number、string、boolean，null，undefined 之外的类型</p></li><li><p>null 和 undefined 类型</p><p>类型本身作用不是很大，但是 null 和 undefined 类型是所有类型的子类型，所以任何变量的值都可以是 null 或者 undefined。</p></li><li><p>any 类型</p><pre><code class=language-TypeScript>const list: any[] = [1, true, &quot;string&quot;]
</code></pre><p>表示任意一个类型，当编译阶段不清楚类型的时候可以指定为 any 类型</p></li><li><p>void 类型</p><p>表示没有任何类型，没有返回值的函数为 void 类型</p></li><li><p>never 类型</p><p>never 表示用不存在的类型，总是会抛出异常或根本不会有返回值的函数表达式或箭头表达式的返回值类型可以为 never 类型。</p></li></ol><h2 id=typescript-接口>TypeScript 接口</h2><p>TypeScript 接口和 Java 稍有不同，它更多是定义对象的结构，比如指定有什么元素、有什么方法之类的。</p><p>语法如下：</p><pre><code class=language-TypeScript>interface Information {
    username: string
}

// 如不符合 Information 接口定义，编译阶段报错
let infor: Information = {
    username: &quot;Zhang San&quot;
}
</code></pre><p>接口中的属性默认情况下是必须的，不然编译阶段会报错，可以使用 <code>?</code> 定义可选属性：</p><pre><code class=language-TypeScript>interface Information {
    username: string
    nickName?: string
}

// nickName 为可选属性，符合接口标准
let infor: Information = {
    username: &quot;Zhang San&quot;
}
</code></pre><p>同时一些对象属性可以指定为只读，这样后续不能被修改值，这就类似于常量使用 const 声明，接口中的常量使用 readonly 声明：</p><pre><code class=language-TypeScript>interface Information {
    username: string
    nickName?: string
    readonly id: string
}

let infor: Information = {
    username: &quot;Zhang San&quot;
    id: &quot;123456&quot;
}
</code></pre><h2 id=函数>函数</h2><pre><code class=language-TypeScript>function add(a: number, b: number): number {
    return a + b
}
</code></pre><p>函数可以使用 <code>?</code> 指定可选参数：</p><pre><code class=language-TypeScript>function buildName(firstName: string, lastName?: string): string {
    if (lastName) {
        return `${firstName} ${lastName}`
    } else {
        return firstName
    }
}
</code></pre><p>函数可以指定默认参数，默认参数本身就是可选的，不需要指定 <code>?</code>：</p><pre><code class=language-TypeScript>function buildName(firstName: string, lastName?: string): string {
    if (lastName) {
        return `${firstName} ${lastName}`
    } else {
        return firstName
    }
}
</code></pre><p>可以指定剩余参数：</p><pre><code class=language-TypeScript>function sum(x: number, y: number, ...rest: number[]) {
    return x + y + reduce((acc, value) =&gt; acc + value, 0);
}
</code></pre><h2 id=typescript-类>TypeScript 类</h2><pre><code class=language-TypeScript>class Circle {
    private radius: number
    private x: number
    private y: number
    readonly PI: number = 3.14

    get radius(): number {
        return this.number
    }

    get x(): number {
        return this.x
    }

    set x(x: number) {
        this.x = x
    }

    get y(): number {
        return this.y
    }

    set y(y: number) {
        this.y = y
    }

    constructor(radius: number = 1, x: number = 1, y: number = 1) {
        this.radius = radius
        this.x = x
        this.y = y
    }

    getArea(): number {
        return PI * radius * radius
    }
}
</code></pre><p>默认为 public，同时也支持 private 和 protected，和 Java 写法极其类似，不过 getter 和 setter 的写法和构造器的写法有所不同。</p><p>同时类还可以有静态属性：</p><pre><code class=language-TypeScript>class Constants {
    static PI: number = 3.14
}
</code></pre><p>使用 extends 关键字继承类，使用 implements 关键字实现接口，写法和 Java 类似，包括也有 super 关键字，不多赘述：</p><pre><code class=language-TypeScript>class Person {
    protected name: string;
    constructor(name: string) {
        this.name = name;
    }
}

class Employee extends Person {
    private department: string;

    constructor(name: string, department: string) {
        super(name);
        this.department = department;
    }

    public getElevatorPitch() {
        return `Hello, my name is ${this.name} and I work in ${this.department}.`;
    }
}
</code></pre><h2 id=typescript-类型推论>TypeScript 类型推论</h2><p>对于未显式指定的类型的变量，TypeScript 会进行类型推断，所有的变量一定有其类型</p><pre><code class=language-TypeScript>let x: number = 0;

x = 1; // OK
x = '1'; // error
</code></pre><h2 id=typescript-类型断言>TypeScript 类型断言</h2><p>可以通过类型断言来告诉编译器 any 是哪种类型，类型断言有两种形式：</p><ol><li><p>尖括号</p><pre><code class=language-TypeScript>let someVal: any = &quot;a string&quot;
let strLength: number = (&lt;string&gt;someVal).length
</code></pre></li><li><p>as 语法</p><pre><code class=language-TypeScript>let someVal: any = &quot;a string&quot;
let strLength: number = (someVal as string).length
</code></pre></li></ol><p>两种形式是等价的。至于使用哪个大多数情况下是凭个人喜好；然而，当在 TypeScript 里使用到 JSX 时，只有 as 形式的断言是被允许的。</p><h2 id=typescript-非空断言关键字>TypeScript 非空断言关键字</h2><p>使用 ！来指定非空的变量，即告诉编译器值不能为 null。</p><pre><code class=language-TypeScript>let a: number | undefined = undefined
let b: number = a!
</code></pre><h2 id=typescript-泛型>TypeScript 泛型</h2><p>TypeScript 泛型写法和 Java 泛型相似：</p><p>泛型方法：</p><pre><code class=language-TypeScript>function add&lt;T&gt;(a: T, b: T): T {
    return a + b
}
</code></pre><p>泛型接口：</p><pre><code class=language-TypeScript>interface GenericIdentityFn&lt;T&gt; {
    (arg: T): T;
}

function identity&lt;T&gt;(arg: T): T {
    return arg;
}

let myIdentity: GenericIdentityFn&lt;number&gt; = identity;
</code></pre><p>泛型类：</p><pre><code class=language-TypeScript>class GenericNumber&lt;T&gt; {
    zeroValue: T;
    add: (x: T, y: T) =&gt; T;
}
</code></pre><p>泛型约束：</p><p>可以使用 extends 语法来约束泛型：<code>&lt;T extends Lengthwise></code>$</p><p>泛型参数默认值：</p><p>泛型参数可以指定默认值：<code>&lt;T = number></code></p><h2 id=联合类型>联合类型</h2><p>使用 <code>|</code> 表示联合类型，类似 C 语言中的 union，可以表示多种类型中的一个：</p><pre><code class=language-TypeScript>let item: string | number | undefined
</code></pre><p>那么 item 可以是三种类型中的任意一种类型</p><h2 id=参考>参考</h2><p>语言更多特性参考官网文档：</p><p><a href=https://www.typescriptlang.org/docs/handbook/intro.html>https://www.typescriptlang.org/docs/handbook/intro.html</a></p><p>本文参考：</p><p><a href=https://sinoui.github.io/sinoui-guide/docs/ts-tutorial#%E6%B3%9B%E5%9E%8B%E5%8F%82%E6%95%B0%E9%BB%98%E8%AE%A4%E5%80%BC>https://sinoui.github.io/sinoui-guide/docs/ts-tutorial#%E6%B3%9B%E5%9E%8B%E5%8F%82%E6%95%B0%E9%BB%98%E8%AE%A4%E5%80%BC</a>（讲的很全，不过有些地方讲的多了）</p><p><a href=https://blog.csdn.net/twypx/article/details/80290806>https://blog.csdn.net/twypx/article/details/80290806</a>（有些地方没讲全）</p></article></div></div><footer class="my-8 w-full text-center text-xs"><article>KON！</article></footer></main><script src=/js/header.0b11855b871cb4d10c6c07b6723b9209f5c2bc9100735ab6ff47c8f9b76bb3d6ae41b488083b5fb15697987334039eb651b25c83228c29ac48a2bc168db8a894.js integrity="sha512-CxGFW4cctNEMbAe2cjuSCfXCvJEAc1q2/0fI+bdrs9auQbSICDtfsVaXmHM0A562UbJcgyKMKaxIorwWjbiolA=="></script><script src=/js/multilingual.84eb767ebf77f5840471f65eceeb3b8a86b56bff9bf4de1e1da7caa0331440cd7ecfeff6bb26884c7ce0df1e258ed80ec90c80a92bb2fa2bbe550c602c181bbe.js integrity="sha512-hOt2fr939YQEcfZezus7ioa1a/+b9N4eHafKoDMUQM1+z+/2uyaITHzg3x4ljtgOyQyAqSuy+iu+VQxgLBgbvg=="></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script src=/js/math.d7efde37b2eb8879651e1f4489bcd4d8203b8c2bf8ca12c9e1b8cd11bfd6395b172f4999fff43ce0d047889a2bdb71ee74aebbae5327590192d1144e790fcd7b.js integrity="sha512-1+/eN7LriHllHh9EibzU2CA7jCv4yhLJ4bjNEb/WOVsXL0mZ//Q84NBHiJor23HudK67rlMnWQGS0RROeQ/New=="></script><script src=/js/search-en-us.min.45b851b784c6177f23176505286d0a59d28d4c06a0e057bcec8e3c2bc1b72d5c0a6a475caf1c6636ec08a57fe92406d440482afc54709a8c136b7f93b76df1e6.js integrity="sha512-RbhRt4TGF38jF2UFKG0KWdKNTAag4Fe87I48K8G3LVwKakdcrxxmNuwIpX/pJAbUQEgq/FRwmowTa3+Tt23x5g=="></script><script src=/js/prism.5fc5105d872030af7e7e7e218d1fa6bc56cf8d1024c0d92291c8d701cc3fd5f0dc8e77b5fbe2edd544f7221500f0f1027eea3ab04c56dc217291c608e6634765.js integrity="sha512-X8UQXYcgMK9+fn4hjR+mvFbPjRAkwNkikcjXAcw/1fDcjne1++Lt1UT3IhUA8PECfuo6sExW3CFykcYI5mNHZQ=="></script></body></html>